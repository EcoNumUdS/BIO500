# Séance 2

- Ces diapositives sont disponibles en [version web](https://econumuds.github.io/BIO500/cours1/) et en [PDF](./assets/pdf/S1-BIO500.pdf).
- L'ensemble du matériel de cours est disponible sur la page du portail [moodle](https://www.usherbrooke.ca/moodle2-cours/course/view.php?id=12188).

<!-- TODO 1: Mettre cours 2 en PDF -->
<!-- TODO 2: Changer le lien moodle -->

--- .transition

# Les types de données

---

# La collecte de données

<div style='text-align:center;'>
<img src="assets/img/flow_cours2.png" width="90%"></img>
</div>

---

# La collecte de données

## **En biométrie**, il éxiste plusieurs grandes familles de données:

1. Quantitative (variables continues)
2. Semi-quantitative (variables discrètes)
3. Qualitatives (variables de rang)

Le type de données collectées conditionne les analyses statistiques que l'on pourra réaliser sur les données.

<!-- ## Probléme - La structure des données est par conséquent déterminé par les analyses que l'on va réaliser. On est une étape plus loin dans notre cheminement (voir schéma précédent) -->


---

# La collecte de données en biologie

## Alors, qu'en est-il d'une donnée biologique ?



<!-- Présenter qu'est qu'une données biologiques, comme elle est représenté -->
<!-- Qu'est ce qui est représenté en ligne versus en colonne -->


<div style='text-align:center;'>
<img src="assets/img/data_cube_2n.png" width="100%"></img>
</div>


---

# La collecte de données en biologie

## Le problème de multi-dimensionnalité

<div style='text-align:center;'>
<img src="assets/img/data_cube_3n.png" width="100%"></img>
</div>


---

# La collecte de données en biologie

## Le problème de multi-dimensionnalité

<div style='text-align:center;'>
<img src="assets/img/data_cube_4n.png" width="100%"></img>
</div>

**Note:** Pour la prise de données de facteurs environnementaux (abiotiques), on retrouverait une forme de type 3n.

---

# La collecte de données en biologie

## **En biologie**, on classifie les données selon 4 dimensions/classes d'information:

1. Biotique/abiotique
2. Taxonomique
3. Temporelle
4. Spatial

Au cours des diapos suivantes, nous nous attarderons à la façon de stocker ces données. J'aborderais les spécificités propre à chacune des ces dimensions.

--- .transition

#  Le format des données

--- &twocol

#  Le format des données

*** =right

## Format long

```{r echo=FALSE}
library("knitr")
ids <- c("567-1","567-2","567-3","598","876")
esp <- c("acsa","acsa","acsa","piru","abba")
year <- c(2010,2010,2010,2011,2014)
dhp_mm <- c(460,100,120,380,160)
df <- data.frame(ID=ids,esp=esp,year=year,dhp_mm=dhp_mm)
kable(df,format="markdown")
```

- Privilégier le format long
- Une ligne = une observation
- Nom de colonnes court, sans accent et explicite.

*** =left

## Format large

```{r echo=FALSE}
library(reshape2)
df2 <- dcast(ids + esp ~ year, data=df, value.var="dhp_mm")
kable(df2,format="markdown")
```

--- &twocol

#  Le format des données

## Ne mettre toute l'information dans une seul tableau


--- &twocol

#  Le format des données

## Ne concatenner pas l'information dans une seule colonne

*** =left

```{r echo=FALSE}
kable(df,format="markdown")
```

- Une colonne = une information

*** =right

```{r echo=FALSE}
ids <- c("567","567","567","598","876")
sub_ids <- c("1","2","3",NA,NA)
df <- data.frame(ID=ids,ID_multi=sub_ids,esp=esp,year=year,dhp_mm=dhp_mm)
kable(df,format="markdown")
```


<!-- - Privilégier le format long, une ligne = une observation
- Plusieurs tableau: un tableau par type d'observation
- Éviter de concaténer l'information
- Stockage des NAs -->

--- .transition

#  Les types de données

---

# Les données biotiques et abiotiques

TABLEAU DE DONNÉES AVEC LES 4 Types de données informatiques

---

# Les données biotiques et abiotiques

## **En informatique**, on distingue plusieurs types de données:

1. Les entiers (`INTEGER`)
2. Les nombres réels (`DOUBLE`, `FLOAT`)
2. Les caractères (`CHAR`,`VARCHAR`)
3. Les dates (`DATE`)

---

# Les données temporelles

<!-- Voir Borer -->
<!-- Représentation en jour julien Annuelle -->


--- &twocol

# Les données taxonomiques

*Un exemple avec l'érable à sucre*


*** =left

**Selon vous quelle option est la meilleure?**

```{r echo=FALSE}
way <- c("1. Code spécifique à l'étude","2. Code du ministère","3. Genre et espèce","4. Nom vernaculaire","5. Numéro Taxonomique (TSN - ITIS)")
ex <- c("ACSA","ERS","Acer saccharum","Érable à sucre","28731")
df <- data.frame(Option=way,Exemple=ex)
kable(df,format="markdown")
```
*** =right


<div style='text-align:center;'>
<img src="assets/img/acsa.jpg" height="450px"></img>
</div>


--- &twocol

# Les données taxonomiques

*Un exemple avec l'érable à sucre*

*** =left

```{r echo=FALSE}
kable(df,format="markdown")
```

*** =right

>- **Option 1:** Doit être associé à des métadonnées. Risque de perte du fichier attaché.

>- **Option 2:** Le genre et l'espèce peuvent changer à travers le temps.

>- **Option 3:** Le nom vernaculaire des espèces est le pire choix. Le nom vernaculaire est propre à un pays, à une région géographique, à une culture.


--- &twocol

# Les données taxonomiques

*Un exemple avec l'érable à sucre*

*** =left

```{r echo=FALSE}
library("knitr")
way <- c("Code spécifique à l'étude","Code du ministère","Genre et espèce","Nom vernaculaire","Numéro Taxonomique (TSN - ITIS)")
ex <- c("ACSA","ERS","Acer saccharum","Érable à sucre","28731")
df <- data.frame(Option=way,Exemple=ex)
kable(df,format="markdown")
```

*** =right


>- **Option 4:** Cette option couplée à l'option 3, est le meilleur choix.


---

# Les données taxonomiques

On privilégie généralement, l'utilisation de code espèce standardisé:

1. ITIS
2. VASCAN (Plantes vasculaires du Canada)
3. NCBI

**Avantage:** Chacune de ces institutions/infrastructures, nous permettent de valider et retirer l'ensemble de la classification taxonomique d'une espèce à partir de son code. Même si l'identifiant change (nouvelle classification), nous serons en mesure de trouver le nouvel identifiant taxonomique à partir de l'ancien.

**Exemple:** [https://www.itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value=28731#null](https://www.itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value=28731#null)

---


---

# Les données spatiales


---

# L'absence de données




---

# Choisir le bon type et format de données

Si l'on ne choisit pas le type de données approprié, cela aura diverses conséquences:

- Des problèmes de performance (ex. : il est plus rapide de faire une recherche sur un nombre que sur une chaîne de caractères)
- Un comportement contraire à celui attendu (ex. : trier sur un nombre stocké comme tel, ou sur un nombre stocké comme une chaîne de caractères ne donnera pas le même résultat)
- L'impossibilité d'utiliser des fonctionnalités propres à un type de données (ex. : stocker une date comme une chaîne de caractères vous prive des nombreuses fonctions temporelles disponibles).

<!-- Point supplémentaire pour les avancées: - Un gaspillage de mémoire (ex. : si vous stockez de toutes petites données dans une colonne faite pour stocker de grosses quantités de données) -->

---

# Finalement

Pourquoi prendre soin de ces données ?

Les 3 R.
C'est comme un livre, ca nous raconte l'histoire d'individu, d'une pop à un instant t à un endroit donné.
Sommes-nous capable de juger de la valeur de ces données?


<!-- ---

TRANSTION vers SQL

# La collecte de données

En biologie, la collecte de données se résume à un hypercube.


Comme nous le verrons plus tard cette multi-dimensionnalité complique notre tâche, car il est difficile de la représenter dans un tableau excel (n-2). -->
